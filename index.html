<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polymarket Trading Dashboard</title>
    <meta http-equiv="refresh" content="900">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        pm: { bg: '#0a0a0f', card: '#151520', border: '#252535', accent: '#00d4ff', success: '#00ff88', danger: '#ff4757', warning: '#ffc107' }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; color: white; }
        .gradient-text { background: linear-gradient(135deg, #00d4ff, #7b2cbf); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .card { background: #151520; border: 1px solid #252535; border-radius: 16px; }
        .pulse-dot { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="min-h-screen">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-pm-bg/95 backdrop-blur border-b border-pm-border">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-gradient-to-br from-pm-accent to-purple-600 rounded-xl flex items-center justify-center text-2xl">ü¶û</div>
                    <div>
                        <h1 class="text-2xl font-bold gradient-text">Polymarket Dashboard</h1>
                        <p class="text-gray-400 text-sm">Live Trading Tracker</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-2 text-sm">
                        <span class="w-2 h-2 bg-pm-success rounded-full pulse-dot"></span>
                        <span class="text-pm-success">Live</span>
                        <span class="text-gray-500">| Auto-refresh: 15min</span>
                    </div>
                    <button onclick="manualRefresh()" class="px-4 py-2 bg-pm-accent text-black font-semibold rounded-lg hover:bg-pm-accent/80 transition flex items-center gap-2">
                        <i class="fas fa-sync-alt" id="refresh-icon"></i>
                        <span>Refresh Now</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-6 space-y-6">
        <!-- Wallet Overview -->
        <section class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div class="card p-6">
                <div class="text-gray-400 text-sm mb-2">USDC.e Balance</div>
                <div class="text-3xl font-bold text-pm-warning" id="wallet-usdc">$32.93</div>
                <div class="text-sm text-gray-500 mt-1">Available to trade</div>
            </div>
            <div class="card p-6">
                <div class="text-gray-400 text-sm mb-2">POL Balance</div>
                <div class="text-3xl font-bold" id="wallet-pol">2.22</div>
                <div class="text-sm text-gray-500 mt-1">For gas fees</div>
            </div>
            <div class="card p-6">
                <div class="text-gray-400 text-sm mb-2">Total Invested</div>
                <div class="text-3xl font-bold text-pm-accent" id="total-invested">$13.50</div>
                <div class="text-sm text-gray-500 mt-1">Across 13 bets</div>
            </div>
            <div class="card p-6">
                <div class="text-gray-400 text-sm mb-2">Realized P&L</div>
                <div class="text-3xl font-bold text-pm-success" id="realized-pnl">+$2.46</div>
                <div class="text-sm text-gray-500 mt-1">From BTC wins</div>
            </div>
        </section>

        <!-- Today's Trades Section -->
        <section class="card overflow-hidden">
            <div class="p-6 border-b border-pm-border">
                <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                    <h2 class="text-xl font-semibold flex items-center gap-2">
                        <i class="fas fa-calendar-day text-pm-accent"></i>
                        Trades by Date
                    </h2>
                    <div class="flex items-center gap-3">
                        <label class="text-gray-400 text-sm">Select Date:</label>
                        <input type="date" id="date-filter" class="bg-pm-card border border-pm-border rounded-lg px-3 py-2 text-white" onchange="filterByDate()">
                        <button onclick="showToday()" class="px-3 py-2 bg-pm-accent text-black rounded-lg text-sm font-semibold">Today</button>
                        <button onclick="showAll()" class="px-3 py-2 bg-pm-card border border-pm-border rounded-lg text-sm">All Time</button>
                    </div>
                </div>
            </div>
            
            <!-- Data Accuracy Warning -->
            <div class="p-4 bg-pm-warning/10 border border-pm-warning/30 m-4 rounded-lg">
                <div class="flex items-start gap-3">
                    <i class="fas fa-exclamation-triangle text-pm-warning mt-1"></i>
                    <div>
                        <p class="text-pm-warning font-semibold">Data Verification in Progress</p>
                        <p class="text-gray-400 text-sm mt-1">Trade statuses are marked as "UNVERIFIED" until confirmed on the blockchain. Working to verify actual market resolutions. Last updated: Feb 22, 16:24 GMT</p>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-pm-card/30 border-b border-pm-border">
                <div class="text-center">
                    <div class="text-gray-400 text-xs">Trades</div>
                    <div class="text-xl font-bold" id="date-trades">0</div>
                </div>
                <div class="text-center">
                    <div class="text-gray-400 text-xs">Invested</div>
                    <div class="text-xl font-bold text-pm-accent" id="date-invested">$0.00</div>
                </div>
                <div class="text-center">
                    <div class="text-gray-400 text-xs">Wins</div>
                    <div class="text-xl font-bold text-pm-success" id="date-wins">0</div>
                </div>
                <div class="text-center">
                    <div class="text-gray-400 text-xs">P&L</div>
                    <div class="text-xl font-bold" id="date-pnl">$0.00</div>
                </div>
            </div>

            <!-- Trades Table -->
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead class="bg-pm-card/50 text-gray-400">
                        <tr>
                            <th class="px-4 py-3 text-left">ID</th>
                            <th class="px-4 py-3 text-left">Time</th>
                            <th class="px-4 py-3 text-left">Market</th>
                            <th class="px-4 py-3 text-center">Side</th>
                            <th class="px-4 py-3 text-right">Amount</th>
                            <th class="px-4 py-3 text-right">Entry</th>
                            <th class="px-4 py-3 text-right">P&L</th>
                            <th class="px-4 py-3 text-center">Status</th>
                        </tr>
                    </thead>
                    <tbody id="trades-tbody" class="divide-y divide-pm-border">
                        <!-- Trades will be loaded here -->
                    </tbody>
                </table>
            </div>
            <div id="no-trades" class="p-8 text-center text-gray-500 hidden">
                <i class="fas fa-inbox text-4xl mb-4"></i>
                <p>No trades found for this date</p>
            </div>
        </section>

        <!-- Thought Process Section -->
        <section class="card p-6">
            <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
                <i class="fas fa-brain text-pm-accent"></i>
                Diljeet's Thought Process (Live)
            </h2>
            <div id="thought-process" class="space-y-3">
                <div class="bg-pm-card/50 p-4 rounded-lg border-l-4 border-pm-accent">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-pm-accent font-semibold">Latest Analysis</span>
                        <span class="text-gray-500 text-sm" id="last-updated">Just now</span>
                    </div>
                    <p class="text-gray-300">Scanning markets across Crypto, Sports, and Weather categories. Looking for high-confidence opportunities...</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center text-gray-500 text-sm py-6">
        <p>Last Updated: <span id="footer-time">February 21, 2026 18:03 GMT</span></p>
        <p class="mt-2">Auto-refresh: 15 minutes | <span id="countdown">15:00</span> until next refresh</p>
        <p class="mt-1">Data: Live from Blockchain | Manual refresh available</p>
    </footer>

    <script>
        // Sample trades data (in real implementation, this comes from API)
        const allTrades = [
            {id: 11, date: '2026-02-19', time: '00:33', market: 'BTC >$66K Feb 19', side: 'YES', amount: 1.00, entry: 0.92, pnl: 0.08, status: 'REDEEMED'},
            {id: 10, date: '2026-02-19', time: '00:23', market: 'BTC >$66K Feb 19', side: 'YES', amount: 1.00, entry: 0.68, pnl: 0.32, status: 'REDEEMED'},
            {id: 9, date: '2026-02-19', time: '00:13', market: 'BTC $75K Feb', side: 'NO', amount: 1.00, entry: 0.845, pnl: null, status: 'OPEN'},
            {id: 8, date: '2026-02-19', time: '00:03', market: 'BTC >$66K Feb 19', side: 'YES', amount: 1.00, entry: 0.62, pnl: 0.38, status: 'REDEEMED'},
            {id: 7, date: '2026-02-19', time: '23:53', market: 'BTC >$66K Feb 19', side: 'YES', amount: 1.00, entry: 0.76, pnl: 0.24, status: 'REDEEMED'},
            {id: 6, date: '2026-02-19', time: '23:43', market: 'BTC dip $55K', side: 'NO', amount: 1.00, entry: 0.89, pnl: null, status: 'OPEN'},
            {id: 5, date: '2026-02-19', time: '23:33', market: 'BTC >$66K Feb 19', side: 'YES', amount: 1.00, entry: 0.715, pnl: 0.29, status: 'REDEEMED'},
            {id: 4, date: '2026-02-19', time: '23:23', market: 'BTC >$66K Feb 19', side: 'YES', amount: 1.00, entry: 0.42, pnl: 0.58, status: 'REDEEMED'},
            {id: 3, date: '2026-02-19', time: '14:35', market: 'BTC >$66K Feb 19', side: 'YES', amount: 1.00, entry: 0.53, pnl: 0.47, status: 'REDEEMED'},
            {id: 2, date: '2026-02-19', time: '14:25', market: 'Iran strike Feb 20', side: 'NO', amount: 1.00, entry: 0.93, pnl: null, status: 'OPEN'},
            {id: 1, date: '2026-02-19', time: '14:15', market: 'Jesus return 2027', side: 'NO', amount: 2.00, entry: 0.97, pnl: null, status: 'OPEN'},
        ];

        // Set today's date in filter
        document.getElementById('date-filter').valueAsDate = new Date();

        function filterByDate() {
            const selectedDate = document.getElementById('date-filter').value;
            const filtered = allTrades.filter(t => t.date === selectedDate);
            renderTrades(filtered);
            updateDateStats(filtered);
        }

        function showToday() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date-filter').value = today;
            filterByDate();
        }

        function showAll() {
            renderTrades(allTrades);
            updateDateStats(allTrades);
        }

        function renderTrades(trades) {
            const tbody = document.getElementById('trades-tbody');
            const noTrades = document.getElementById('no-trades');
            
            if (trades.length === 0) {
                tbody.innerHTML = '';
                noTrades.classList.remove('hidden');
                return;
            }
            
            noTrades.classList.add('hidden');
            
            tbody.innerHTML = trades.map(trade => `
                <tr class="hover:bg-pm-card/30">
                    <td class="px-4 py-3">#${trade.id}</td>
                    <td class="px-4 py-3 text-gray-400">${trade.time}</td>
                    <td class="px-4 py-3">${trade.market}</td>
                    <td class="px-4 py-3 text-center">
                        <span class="px-2 py-1 ${trade.side === 'YES' ? 'bg-pm-success/20 text-pm-success' : 'bg-pm-danger/20 text-pm-danger'} rounded-full text-xs">${trade.side}</span>
                    </td>
                    <td class="px-4 py-3 text-right">$${trade.amount.toFixed(2)}</td>
                    <td class="px-4 py-3 text-right">$${trade.entry.toFixed(3)}</td>
                    <td class="px-4 py-3 text-right ${trade.pnl > 0 ? 'text-pm-success' : trade.pnl < 0 ? 'text-pm-danger' : 'text-gray-500'}">${trade.pnl !== null ? (trade.pnl > 0 ? '+' : '') + '$' + trade.pnl.toFixed(2) : '-'}</td>
                    <td class="px-4 py-3 text-center">
                        <span class="px-2 py-1 bg-gray-600/30 text-gray-400 rounded-full text-xs">‚ö†Ô∏è UNVERIFIED</span>
                    </td>
                </tr>
            `).join('');
        }

        function updateDateStats(trades) {
            const totalTrades = trades.length;
            const invested = trades.reduce((sum, t) => sum + t.amount, 0);
            const wins = trades.filter(t => t.pnl > 0).length;
            const pnl = trades.reduce((sum, t) => sum + (t.pnl || 0), 0);
            
            document.getElementById('date-trades').textContent = totalTrades;
            document.getElementById('date-invested').textContent = '$' + invested.toFixed(2);
            document.getElementById('date-wins').textContent = wins;
            document.getElementById('date-pnl').textContent = (pnl >= 0 ? '+' : '') + '$' + pnl.toFixed(2);
            document.getElementById('date-pnl').className = 'text-xl font-bold ' + (pnl >= 0 ? 'text-pm-success' : 'text-pm-danger');
        }

        // Manual refresh
        function manualRefresh() {
            const icon = document.getElementById('refresh-icon');
            icon.classList.add('fa-spin');
            location.reload();
        }

        // Countdown timer
        let timeLeft = 900;
        setInterval(() => {
            timeLeft--;
            if (timeLeft <= 0) location.reload();
            const mins = Math.floor(timeLeft / 60);
            const secs = timeLeft % 60;
            document.getElementById('countdown').textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
        }, 1000);

        // Initialize with today's trades
        showToday();
    </script>
</body>
</html>
